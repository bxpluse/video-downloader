<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Video Downloader Settings</title>
        <script src="downloader.js"></script>
        <link rel="stylesheet" type="text/css" href="settings.css">
    </head>

    <body>
        <div>
            <p id="version-text">Version: N/A</p>
        </div>

        <div class="path">
            <span>FFmpeg Path:</span>
            <input type="text" id="ffmpeg" size="30" disabled>
            <input type="button" id="btnFfmpeg" value="Set Path" onclick="selectPath('ffmpeg')"/>
            <br/>
        </div>

        <div class="path">
            <span>yt-dlp Path:</span>
            <input type="text" id="youtube-dl" size="30" disabled>
            <input type="button" id="btnYoutubedl" value="Set Path" onclick="selectPath('youtube-dl')" />
            <br/>
        </div>

        <div class="path">
            <span>Output Destination:</span>
            <input type="text" id="destination" size="30" disabled>
            <input type="button" id="btnDest" value="Set Path" onclick="selectPath('destination')" />
            <br/>
        </div>

        <script type="text/javascript">

            window.onload = function(e){
                let params = {}
                location.search.substr(1).split("&").forEach(function(item) {params[item.split("=")[0]] = item.split("=")[1]})
                for (const [key, value] of Object.entries(params)) {
                    onset(key, value)
                }
            }

            function onset(id, path) {
                document.getElementById(id).value = path;
            }

            (function () {
                const version = require('root-require')('package.json').version;
                document.querySelector('#version-text').innerHTML  = `Version: ${version}`;
            })();

        </script>

    </body>

</html>